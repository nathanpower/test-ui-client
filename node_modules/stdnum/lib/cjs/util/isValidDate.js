"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.isValidDateCompactYYYYMMDD = exports.isValidDateCompactDDMMYY = exports.isValidDateCompactYYMMDD = exports.isValidDate = void 0;
const strings_1 = require("./strings");
function isValidDate(yy, mm, dd) {
    const yyN = parseInt(yy, 10);
    const mmN = parseInt(mm, 10) - 1;
    const ddN = parseInt(dd, 10);
    if (Number.isNaN(yyN) || Number.isNaN(mmN) || Number.isNaN(ddN)) {
        return false;
    }
    let d;
    if (yyN < 20) {
        d = new Date(2000 + yyN, mmN, ddN);
    }
    else if (yyN < 100) {
        d = new Date(1900 + yyN, mmN, ddN);
    }
    else {
        d = new Date(yyN, mmN, ddN);
    }
    if (Number.isNaN(d.getFullYear())) {
        return false;
    }
    if (d.getDate() !== ddN || d.getMonth() !== mmN) {
        return false;
    }
    return true;
}
exports.isValidDate = isValidDate;
function isValidDateCompactYYMMDD(yymmdd) {
    const [year, mon, day] = (0, strings_1.splitAt)(yymmdd, 2, 4);
    return isValidDate(year, mon, day);
}
exports.isValidDateCompactYYMMDD = isValidDateCompactYYMMDD;
function isValidDateCompactDDMMYY(ddmmyy) {
    const [day, mon, year] = (0, strings_1.splitAt)(ddmmyy, 2, 4);
    return isValidDate(year, mon, day);
}
exports.isValidDateCompactDDMMYY = isValidDateCompactDDMMYY;
function isValidDateCompactYYYYMMDD(yyyymmdd) {
    const [year, mon, day] = (0, strings_1.splitAt)(yyyymmdd, 4, 6);
    return isValidDate(year, mon, day);
}
exports.isValidDateCompactYYYYMMDD = isValidDateCompactYYYYMMDD;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaXNWYWxpZERhdGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvdXRpbC9pc1ZhbGlkRGF0ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSx1Q0FBb0M7QUFHcEMsU0FBZ0IsV0FBVyxDQUFDLEVBQVUsRUFBRSxFQUFVLEVBQUUsRUFBVTtJQUM1RCxNQUFNLEdBQUcsR0FBRyxRQUFRLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQzdCLE1BQU0sR0FBRyxHQUFHLFFBQVEsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2pDLE1BQU0sR0FBRyxHQUFHLFFBQVEsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFFN0IsSUFBSSxNQUFNLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLE1BQU0sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksTUFBTSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRTtRQUMvRCxPQUFPLEtBQUssQ0FBQztLQUNkO0lBRUQsSUFBSSxDQUFDLENBQUM7SUFDTixJQUFJLEdBQUcsR0FBRyxFQUFFLEVBQUU7UUFDWixDQUFDLEdBQUcsSUFBSSxJQUFJLENBQUMsSUFBSSxHQUFHLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7S0FDcEM7U0FBTSxJQUFJLEdBQUcsR0FBRyxHQUFHLEVBQUU7UUFDcEIsQ0FBQyxHQUFHLElBQUksSUFBSSxDQUFDLElBQUksR0FBRyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0tBQ3BDO1NBQU07UUFDTCxDQUFDLEdBQUcsSUFBSSxJQUFJLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQztLQUM3QjtJQUVELElBQUksTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUMsRUFBRTtRQUNqQyxPQUFPLEtBQUssQ0FBQztLQUNkO0lBR0QsSUFBSSxDQUFDLENBQUMsT0FBTyxFQUFFLEtBQUssR0FBRyxJQUFJLENBQUMsQ0FBQyxRQUFRLEVBQUUsS0FBSyxHQUFHLEVBQUU7UUFDL0MsT0FBTyxLQUFLLENBQUM7S0FDZDtJQUVELE9BQU8sSUFBSSxDQUFDO0FBQ2QsQ0FBQztBQTVCRCxrQ0E0QkM7QUFHRCxTQUFnQix3QkFBd0IsQ0FBQyxNQUFjO0lBQ3JELE1BQU0sQ0FBQyxJQUFJLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxHQUFHLElBQUEsaUJBQU8sRUFBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBRS9DLE9BQU8sV0FBVyxDQUFDLElBQUksRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7QUFDckMsQ0FBQztBQUpELDREQUlDO0FBRUQsU0FBZ0Isd0JBQXdCLENBQUMsTUFBYztJQUNyRCxNQUFNLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxJQUFJLENBQUMsR0FBRyxJQUFBLGlCQUFPLEVBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUUvQyxPQUFPLFdBQVcsQ0FBQyxJQUFJLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0FBQ3JDLENBQUM7QUFKRCw0REFJQztBQUVELFNBQWdCLDBCQUEwQixDQUFDLFFBQWdCO0lBQ3pELE1BQU0sQ0FBQyxJQUFJLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxHQUFHLElBQUEsaUJBQU8sRUFBQyxRQUFRLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBRWpELE9BQU8sV0FBVyxDQUFDLElBQUksRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7QUFDckMsQ0FBQztBQUpELGdFQUlDIn0=